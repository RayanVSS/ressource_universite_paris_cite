#include <stdlib.h>
#include <stdio.h>
#include <unistd.h>


int main(int argc, char const *argv[])
{
	int r, toto=4;
	printf("pid = %d\n", getpid());
	r = fork();
	if (r == -1) {
		perror("fork");
		exit(-1);
	}

	printf("mon pid : %d \t mon ppid : %d \t retour de fork = %d\n", getpid(), getppid(), r);

	// On remarque que le retour du premier fork est le pid du deuxième appel (c'est normal)
	// Le ppid du deuxième appel est le pid du premier (parent)
	// Le ppid du premier appel est le pid du bash duquel il est lancé
	// la variable toto n'a pas changé entre les 2 appels

	return 0;
}