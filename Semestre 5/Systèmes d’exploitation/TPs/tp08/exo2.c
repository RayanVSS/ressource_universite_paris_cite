#include "sys/types.h"
#include "sys/unistd.h"
#include "sys/wait.h"
#include "fcntl.h"
#include "stdlib.h"
#include "stdio.h"

int main(int argc, char const *argv[]){
    char * ls[2] = {"ls" , NULL} ; 
    char * tail[2] = {"tail" , NULL};

    int p[2] = {-1 , -1};
    pipe(p) ; 

    switch (fork()){
    case 0:  
        dup2(p[1] , STDOUT_FILENO) ;
        close(p[0]); 
        execvp("ls" , ls) ; 
        break;
    
    default:
        dup2(p[0] , STDIN_FILENO);
        close(p[1]);
        execvp("tail" , tail);
        break;
    } 
    return 0;
}
